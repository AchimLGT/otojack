-- Oyunun Player ve Character objelerine erişim için gerekli değişkenler
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local TextChatService = game:GetService("TextChatService")

-- GUI oluşturma
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = player:WaitForChild("PlayerGui")
ScreenGui.Name = "GrimmngGui"

-- Ana çerçeve (Frame) oluşturma
local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 600, 0, 400) -- Yatay dikdörtgen
Frame.Position = UDim2.new(0.5, -300, 0.5, -200) -- Ortada
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30) -- Koyu gri arka plan
Frame.BorderSizePixel = 0
local FrameCorner = Instance.new("UICorner")
FrameCorner.CornerRadius = UDim.new(0, 10)
FrameCorner.Parent = Frame
Frame.Parent = ScreenGui

-- Sürükleme için yardımcı değişkenler
local dragging = false
local dragInput, dragStart, startPos

Frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = Frame.Position
    end
end)

Frame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

Frame.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
        dragInput = nil -- dragInput'u sıfırlıyoruz
    end
end)

game:GetService("RunService").RenderStepped:Connect(function()
    if dragging and dragInput then
        local delta = dragInput.Position - dragStart
        Frame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- Başlık (grimmng)
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(0, 600, 0, 40)
Title.Position = UDim2.new(0, 0, 0, 5)
Title.BackgroundColor3 = Color3.fromRGB(20, 20, 20) -- Daha koyu başlık çubuğu
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Text = "grimmng"
Title.Font = "AmaticSC"
Title.TextSize = 24
Title.BorderSizePixel = 0
local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 10)
TitleCorner.Parent = Title
Title.Parent = Frame

-- Sol tarafta sekme çubuğu
local TabFrame = Instance.new("Frame")
TabFrame.Size = UDim2.new(0, 150, 0, 360)
TabFrame.Position = UDim2.new(0, 0, 0, 40)
TabFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40) -- Biraz daha açık gri
TabFrame.BorderSizePixel = 0
TabFrame.Parent = Frame

-- Sekme butonları
local tabs = {"Giriş", "Jackler", "Karakter", "Görüş"}
local tabButtons = {}
local currentTab = "Giriş"

for i, tabName in ipairs(tabs) do
    local TabButton = Instance.new("TextButton")
    TabButton.Size = UDim2.new(0, 150, 0, 40)
    TabButton.Position = UDim2.new(0, 0, 0, (i-1)*45)
    TabButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    TabButton.TextColor3 = Color3.fromRGB(200, 200, 200)
    TabButton.Text = tabName
    TabButton.TextSize = 18
    TabButton.BorderSizePixel = 0
    local TabButtonCorner = Instance.new("UICorner")
    TabButtonCorner.CornerRadius = UDim.new(0, 8)
    TabButtonCorner.Parent = TabButton
    TabButton.Parent = TabFrame
    tabButtons[tabName] = TabButton
end

-- Sağ tarafta içerik alanı
local ContentFrame = Instance.new("Frame")
ContentFrame.Size = UDim2.new(0, 450, 0, 360)
ContentFrame.Position = UDim2.new(0, 150, 0, 40)
ContentFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ContentFrame.BackgroundTransparency = 0.4 -- Şeffaf, sadece düzen için
ContentFrame.BorderSizePixel = 0
ContentFrame.Parent = Frame

-- Jackler sekmesi için Jumper Jack GUI elemanları
local JacklerContent = Instance.new("Frame")
JacklerContent.Size = UDim2.new(1, 0, 1, 0)
JacklerContent.Position = UDim2.new(0, 0, 0, 0)
JacklerContent.BackgroundTransparency = 1
JacklerContent.Visible = false -- Varsayılan olarak gizli
JacklerContent.Parent = ContentFrame

-- Başlangıç TextBox
local StartTextBox = Instance.new("TextBox")
StartTextBox.Size = UDim2.new(0, 420, 0, 30) -- Genişlik 400 piksele çıkarıldı
StartTextBox.Position = UDim2.new(0, 20, 0, 40) -- x = 40, sağa hizalı olacak
StartTextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
StartTextBox.TextColor3 = Color3.fromRGB(200, 200, 200)
StartTextBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
StartTextBox.PlaceholderText = "Başlangıç (örn: 5)"
StartTextBox.Text = ""
StartTextBox.BorderSizePixel = 0
local StartTextBoxCorner = Instance.new("UICorner")
StartTextBoxCorner.CornerRadius = UDim.new(0, 8)
StartTextBoxCorner.Parent = StartTextBox
StartTextBox.Parent = JacklerContent

-- Bitiş TextBox
local EndTextBox = Instance.new("TextBox")
EndTextBox.Size = UDim2.new(0, 420, 0, 30) -- Genişlik 400 piksele çıkarıldı
EndTextBox.Position = UDim2.new(0, 20, 0, 80) -- x = 40, sağa hizalı olacak
EndTextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
EndTextBox.TextColor3 = Color3.fromRGB(200, 200, 200)
EndTextBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
EndTextBox.PlaceholderText = "Bitiş (örn: 9999)"
EndTextBox.Text = ""
EndTextBox.BorderSizePixel = 0
local EndTextBoxCorner = Instance.new("UICorner")
EndTextBoxCorner.CornerRadius = UDim.new(0, 8)
EndTextBoxCorner.Parent = EndTextBox
EndTextBox.Parent = JacklerContent

-- Zıpla butonu
local StartButton = Instance.new("TextButton")
StartButton.Size = UDim2.new(0, 200, 0, 40) -- Genişlik 200 piksele çıkarıldı (400/2)
StartButton.Position = UDim2.new(0, 20, 0, 130) -- x = 40
StartButton.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
StartButton.TextColor3 = Color3.fromRGB(255, 255, 255)
StartButton.Text = "Zıpla!"
StartButton.BorderSizePixel = 0
local StartButtonCorner = Instance.new("UICorner")
StartButtonCorner.CornerRadius = UDim.new(0, 8)
StartButtonCorner.Parent = StartButton
StartButton.Parent = JacklerContent

-- Durdur/Devam Et butonu
local PauseButton = Instance.new("TextButton")
PauseButton.Size = UDim2.new(0, 200, 0, 40) -- Genişlik 200 piksele çıkarıldı (400/2)
PauseButton.Position = UDim2.new(0, 240, 0, 130) -- x = 40 + 200 (Zıpla butonunun hemen sağı)
PauseButton.BackgroundColor3 = Color3.fromRGB(200, 120, 50)
PauseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
PauseButton.Text = "Durdur"
PauseButton.BorderSizePixel = 0
local PauseButtonCorner = Instance.new("UICorner")
PauseButtonCorner.CornerRadius = UDim.new(0, 8)
PauseButtonCorner.Parent = PauseButton
PauseButton.Parent = JacklerContent

-- JJ/GJ/HJ Mod butonu
local ModeButton = Instance.new("TextButton")
ModeButton.Size = UDim2.new(0, 420, 0, 40) -- Genişlik 400 piksele çıkarıldı
ModeButton.Position = UDim2.new(0, 20, 0, 190) -- x = 40, sağa hizalı olacak
ModeButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
ModeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ModeButton.Text = "JJ"
ModeButton.BorderSizePixel = 0
local ModeButtonCorner = Instance.new("UICorner")
ModeButtonCorner.CornerRadius = UDim.new(0, 8)
ModeButtonCorner.Parent = ModeButton
ModeButton.Parent = JacklerContent

-- Turbo Modu butonu
local TurboButton = Instance.new("TextButton")
TurboButton.Size = UDim2.new(0, 420, 0, 40) -- Genişlik 400 piksele çıkarıldı
TurboButton.Position = UDim2.new(0, 20, 0, 240) -- x = 40, sağa hizalı olacak
TurboButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
TurboButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TurboButton.Text = "Turbo Kapalı"
TurboButton.BorderSizePixel = 0
local TurboButtonCorner = Instance.new("UICorner")
TurboButtonCorner.CornerRadius = UDim.new(0, 8)
TurboButtonCorner.Parent = TurboButton
TurboButton.Parent = JacklerContent

-- Sekme içerik çerçeveleri
local tabContents = {}
for _, tabName in ipairs(tabs) do
    local content = Instance.new("Frame")
    content.Size = UDim2.new(1, 0, 1, 0)
    content.Position = UDim2.new(0, 0, 0, 0)
    content.BackgroundTransparency = 1
    content.Visible = false
    content.Parent = ContentFrame
    tabContents[tabName] = content
end

-- Jackler sekmesi içeriğini bağla
JacklerContent.Visible = false
tabContents["Jackler"] = JacklerContent

-- Sekme değiştirme mantığı
local function switchTab(tabName)
    for name, button in pairs(tabButtons) do
        if name == tabName then
            button.BackgroundColor3 = Color3.fromRGB(70, 70, 70) -- Seçili sekme koyu gri
        else
            button.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- Diğer sekmeler açık gri
        end
    end
    for name, content in pairs(tabContents) do
        content.Visible = (name == tabName)
    end
    currentTab = tabName
end

-- Sekme butonlarına tıklama olayları
for tabName, button in pairs(tabButtons) do
    button.MouseButton1Click:Connect(function()
        switchTab(tabName)
    end)
end

-- Varsayılan olarak Giriş sekmesini aç
switchTab("Giriş")

-- Türkçe karakterler için büyükten küçüğe dönüşüm tablosu
local turkishLowerMap = {
    ["Ç"] = "ç", ["Ğ"] = "ğ", ["İ"] = "i", ["Ö"] = "ö", ["Ş"] = "ş", ["Ü"] = "ü",
    ["A"] = "a", ["B"] = "b", ["C"] = "c", ["D"] = "d", ["E"] = "e", ["F"] = "f",
    ["G"] = "g", ["H"] = "h", ["I"] = "ı", ["J"] = "j", ["K"] = "k", ["L"] = "l", -- Virgül eklendi
    ["M"] = "m", ["N"] = "n", ["O"] = "o", ["P"] = "p", ["R"] = "r", ["S"] = "s",
    ["T"] = "t", ["U"] = "u", ["V"] = "v", ["Y"] = "y", ["Z"] = "z"
}

local turkishUpperMap = {
    ["ç"] = "Ç", ["ğ"] = "Ğ", ["i"] = "İ", ["ö"] = "Ö", ["ş"] = "Ş", ["ü"] = "Ü",
    ["a"] = "A", ["b"] = "B", ["c"] = "C", ["d"] = "D", ["e"] = "E", ["f"] = "F",
    ["g"] = "G", ["h"] = "H", ["ı"] = "I", ["j"] = "J", ["k"] = "K", ["l"] = "L",
    ["m"] = "M", ["n"] = "N", ["o"] = "O", ["p"] = "P", ["r"] = "R", ["s"] = "S",
    ["t"] = "T", ["u"] = "U", ["v"] = "V", ["y"] = "Y", ["z"] = "Z"
}

local function customLower(str)
    local result = ""
    for _, codepoint in utf8.codes(str) do
        local char = utf8.char(codepoint)
        result = result .. (turkishLowerMap[char] or char)
    end
    return result
end

local function capitalizeFirst(str)
    if utf8.len(str) > 0 then
        local firstChar = ""
        for _, codepoint in utf8.codes(str) do
            firstChar = utf8.char(codepoint)
            break
        end
        local rest = str:sub(utf8.offset(str, 2) or #str + 1)
        return (turkishUpperMap[customLower(firstChar)] or firstChar:upper()) .. customLower(rest)
    end
    return str
end

-- Sayıları Türkçe olarak yazıya çevirme fonksiyonu (9999’a kadar destek)
local function numberToText(num, mode)
    local birler = {"", "BİR", "İKİ", "ÜÇ", "DÖRT", "BEŞ", "ALTI", "YEDİ", "SEKİZ", "DOKUZ"}
    local onlar = {"", "ON", "YİRMİ", "OTUZ", "KIRK", "ELLİ", "ALTMIŞ", "YETMİŞ", "SEKSEN", "DOKSAN"}
    local yuzler = {"", "YÜZ", "İKİ YÜZ", "ÜÇ YÜZ", "DÖRT YÜZ", "BEŞ YÜZ", "ALTI YÜZ", "YEDİ YÜZ", "SEKİZ YÜZ", "DOKUZ YÜZ"}
    
    local function formatGJ(str)
        if str == "" then return "" end
        local lowered = customLower(str)
        return capitalizeFirst(lowered) .. "."
    end
    
    local function baseText(num)
        if num == 0 then return "SIFIR" end
        if num <= 9 then return birler[num + 1] end
        if num <= 99 then
            local on = math.floor(num / 10)
            local bir = num % 10
            if bir == 0 then
                return onlar[on + 1]
            else
                return onlar[on + 1] .. " " .. birler[bir + 1]
            end
        end
        if num <= 999 then
            local yuz = math.floor(num / 100)
            local kalan = num % 100
            if kalan == 0 then
                return yuzler[yuz + 1]
            elseif kalan <= 9 then
                return yuzler[yuz + 1] .. " " .. birler[kalan + 1]
            else
                local on = math.floor(kalan / 10)
                local bir = kalan % 10
                if bir == 0 then
                    return yuzler[yuz + 1] .. " " .. onlar[on + 1]
                else
                    return yuzler[yuz + 1] .. " " .. onlar[on + 1] .. " " .. birler[bir + 1]
                end
            end
        end
        if num <= 9999 then
            local bin = math.floor(num / 1000)
            local kalan = num % 1000
            local binText = (bin == 1 and "BİN") or (birler[bin + 1] .. " BİN")
            if kalan == 0 then
                return binText
            elseif kalan <= 9 then
                return binText .. " " .. birler[kalan + 1]
            elseif kalan <= 99 then
                local on = math.floor(kalan / 10)
                local bir = kalan % 10
                if bir == 0 then
                    return binText .. " " .. onlar[on + 1]
                else
                    return binText .. " " .. onlar[on + 1] .. " " .. birler[bir + 1]
                end
            else
                local yuz = math.floor(kalan / 100)
                local kalan2 = kalan % 100
                if kalan2 == 0 then
                    return binText .. " " .. yuzler[yuz + 1]
                elseif kalan2 <= 9 then
                    return binText .. " " .. yuzler[yuz + 1] .. " " .. birler[kalan2 + 1]
                else
                    local on = math.floor(kalan2 / 10)
                    local bir = kalan2 % 10
                    if bir == 0 then
                        return binText .. " " .. yuzler[yuz + 1] .. " " .. onlar[on + 1]
                    else
                        return binText .. " " .. yuzler[yuz + 1] .. " " .. onlar[on + 1] .. " " .. birler[bir + 1]
                    end
                end
            end
        end
    end
    
    local text = baseText(num)
    if mode == "JJ" then
        return text
    elseif mode == "GJ" then
        return formatGJ(text)
    elseif mode == "HJ" then
        return text -- HJ'de metni döndürüyoruz, ama harfleri ayrı işleyeceğiz
    end
end

-- Turbo durumu kontrol değişkeni
local isTurbo = false

-- Turbo Modu mantığı
TurboButton.MouseButton1Click:Connect(function()
    if isTurbo then
        isTurbo = false
        TurboButton.Text = "Turbo Kapalı"
        TurboButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    else
        isTurbo = true
        TurboButton.Text = "Turbo Açık"
        TurboButton.BackgroundColor3 = Color3.fromRGB(50, 255, 50)
    end
end)

-- Mesaj gönderme fonksiyonu (Turbo 0.75 katına indiriyor, HJ’de etkisiz)
local function sendChatMessage(message)
    local charCount = utf8.len(message)
    local waitTime
    if charCount == 1 then
        waitTime = 0.7 -- 1 harf için 0.7 saniye
    else
        waitTime = 1.3 + (charCount * 0.05) -- Birden fazla harf için 1.3 + harf başına 0.05 saniye
    end
    if isTurbo and currentMode ~= "HJ" then
        waitTime = waitTime * 0.75
    end
    wait(waitTime)
    
    if TextChatService.ChatVersion == Enum.ChatVersion.TextChatService then
        local textChannels = TextChatService:WaitForChild("TextChannels", 5)
        if textChannels then
            local textChannel = textChannels:WaitForChild("RBXGeneral", 5)
            if textChannel then
                textChannel:SendAsync(message)
                return
            end
        end
    end
    
    local chatEvent = game:GetService("ReplicatedStorage"):FindFirstChild("DefaultChatSystemChatEvents")
    if chatEvent and chatEvent:FindFirstChild("SayMessageRequest") then
        chatEvent.SayMessageRequest:FireServer(message, "All")
        return
    end
    
    print("Chat sistemi kullanılamıyor, mesaj yerel olarak yazdırıldı: " .. message)
end

-- Durum kontrol değişkenleri
local isPaused = false
local isRunning = false
local currentIndex = 1
local startNumber = 1
local targetNumber = 0
local currentMode = "JJ"

-- JJ/GJ/HJ Mod değiştirme mantığı
ModeButton.MouseButton1Click:Connect(function()
    if currentMode == "JJ" then
        currentMode = "GJ"
        ModeButton.Text = "GJ"
        ModeButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    elseif currentMode == "GJ" then
        currentMode = "HJ"
        ModeButton.Text = "HJ"
        ModeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    else
        currentMode = "JJ"
        ModeButton.Text = "JJ"
        ModeButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    end
end)

-- Durdur/Devam Et butonu mantığı
PauseButton.MouseButton1Click:Connect(function()
    if isRunning then
        if isPaused then
            isPaused = false
            PauseButton.Text = "Durdur"
            while currentIndex <= targetNumber do
                if isPaused then break end
                local message = numberToText(currentIndex, currentMode)
                if currentMode == "HJ" then
                    for _, codepoint in utf8.codes(message) do
                        if isPaused then break end
                        local char = utf8.char(codepoint)
                        if char ~= " " then
                            sendChatMessage(char)
                            if humanoid then humanoid.Jump = true end
                        end
                    end
                end
                if not isPaused then
                    sendChatMessage(message)
                    if humanoid then humanoid.Jump = true end
                end
                currentIndex = currentIndex + 1
            end
            if not isPaused then
                isRunning = false
                currentIndex = 1
                PauseButton.Text = "Durdur"
            end
        else
            isPaused = true
            PauseButton.Text = "Devam Et"
        end
    end
end)

-- Zıpla butonu mantığı
StartButton.MouseButton1Click:Connect(function()
    local endInput = tonumber(EndTextBox.Text) or 9999
    local startInput = tonumber(StartTextBox.Text) or 1
    
    if endInput > 0 then
        if startInput > endInput then
            EndTextBox.Text = "Başlangıç bitişten büyük olamaz!"
            wait(1)
            EndTextBox.Text = ""
            return
        end
        if endInput > 9999 then
            EndTextBox.Text = "Maksimum 9999 olabilir!"
            wait(1)
            EndTextBox.Text = ""
            return
        end
        
        isRunning = true
        isPaused = false
        startNumber = startInput
        targetNumber = endInput
        currentIndex = startNumber
        PauseButton.Text = "Durdur"
        
        while currentIndex <= targetNumber do
            if isPaused then break end
            local message = numberToText(currentIndex, currentMode)
            if currentMode == "HJ" then
                for _, codepoint in utf8.codes(message) do
                    if isPaused then break end
                    local char = utf8.char(codepoint)
                    if char ~= " " then
                        sendChatMessage(char)
                        if humanoid then humanoid.Jump = true end
                    end
                end
            end
            if not isPaused then
                sendChatMessage(message)
                if humanoid then humanoid.Jump = true end
            end
            currentIndex = currentIndex + 1
        end
        if not isPaused then
            isRunning = false
            currentIndex = 1
        end
    else
        EndTextBox.Text = "Lütfen geçerli bir bitiş sayısı gir!"
        wait(1)
        EndTextBox.Text = ""
    end
end)
